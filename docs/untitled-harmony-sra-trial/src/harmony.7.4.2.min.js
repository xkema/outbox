!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).harmony=e()}}(function(){return function e(n,o,t){function r(i,a){if(!o[i]){if(!n[i]){var u="function"==typeof require&&require;if(!a&&u)return u(i,!0);if(s)return s(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[i]={exports:{}};n[i][0].call(c.exports,function(e){var o=n[i][1][e];return r(o||e)},c,c.exports,e,n,o,t)}return o[i].exports}for(var s="function"==typeof require&&require,i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,n,o){(function(e){n.exports=function(n){var o,t={},r={},s=[],i=e.localStorage||{};return o=function(e,o){var a,u,e,l,c="string"==typeof e,f=typeof o,d="undefined"!==f&&"function"!==f;if("on"===i.lumberjack||n){if(!c||!d)throw Error("Lumberjack Error: log(channel, data) requires an channel {String} and a payload {String|Object|Number|Boolean}.");for(l={time:new Date,data:o,channel:e,id:s.length},t[e]=t[e]||[],t[e].push(l),s.push(l),r[e]=r[e]||[],u=r[e].length,a=0;a<u;a+=1)r[e][a](o)}},o.clear=function(e){e?t[e]=[]:(t={},s=[])},o.readback=function(e,n){if("string"==typeof e)return n?JSON.stringify(t[e],null,4):t[e]||[];throw Error("log.readback(channel, pretty) requires an channel {String}.")},o.readback.master=function(e){return e?JSON.stringify(s,null,4):s},o.readback.channels=function(e){var n=Object.keys(t);return e?JSON.stringify(n):n},o.flush=function(e){var n;return e?(n=t[e],t[e]=[]):(t={},s=[],n=[]),n},o.on=function(e,n){var o="function"==typeof n;if(!("string"==typeof e)||!o)throw Error("log.on(channel, cb) requires an channel {String} and a callback {Function}.");r[e]=r[e]||[],r[e].push(n)},o.off=function(e){if(!("string"==typeof e))throw Error("log.off(channel) requires an channel {String}.");r[e]=[]},o.enable=function(){n=!0},o.disable=function(){n=!1},o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,o){n.exports={name:"harmonyjs",version:"7.4.2",description:"Simplify your DFP business logic.",main:"src/harmony.js",scripts:{test:"grunt test"},repository:{type:"git",url:"https://github.com/cobbdb/harmony.git"},keywords:["doubleclick","ads","dfp","revenue","adslot","adunit","advertising"],homepage:"https://github.com/cobbdb/harmony",bugs:{url:"https://github.com/cobbdb/harmony/issues"},author:"Dan Cobb <cobbdb@gmail.com> (http://www.github.com/cobbdb)",license:"MIT",dependencies:{lumberjackjs:"1.2.0"},devDependencies:{curb:"^1.0.1",grunt:"^1.0.1","grunt-browserify":"^5.0.0","grunt-contrib-jasmine":"^1.1.0","grunt-contrib-jshint":"^1.1.0","grunt-contrib-uglify":"^3.0.1","grunt-exec":"^2.0.0",jquery:"3.x",matchdep:"^1.0.1",semver:"^5.3.0"}}},{}],3:[function(e,n,o){var t=e("../modules/slot-factory.js"),r=e("../modules/group-factory.js"),s=e("../modules/master-event-handler.js"),i=e("../modules/googletag.js");n.exports={slot:function(e){t.get(e).enabled=!1},group:function(e){r.create(e).forEach(function(e){e.enabled=!1})},initialLoad:function(e){i.pubads().disableInitialLoad(),e&&s.one("slotRenderEnded",function(){n.exports.initialLoadRestored=!0})},initialLoadRestored:!1}},{"../modules/googletag.js":9,"../modules/group-factory.js":10,"../modules/master-event-handler.js":12,"../modules/slot-factory.js":15}],4:[function(e,n,o){var t=e("../modules/slot-factory.js"),r=e("../modules/group-factory.js");n.exports={slot:function(e){var n=t.get(e);n.mock||(n.enabled=!0)},group:function(e){r.create(e).forEach(function(e){e.enabled=!0})}}},{"../modules/group-factory.js":10,"../modules/slot-factory.js":15}],5:[function(e,n,o){var t=e("../modules/breakpoint-watcher.js"),r=e("../modules/googletag.js"),s=e("../modules/slot-factory.js");n.exports={slots:function(e){(e=e||[]).forEach(s.create)},targeting:function(e){var n,o=r.pubads();e=e||{};for(n in e)o.setTargeting(n,e[n])},breakpoints:function(e){t.add(e)}}},{"../modules/breakpoint-watcher.js":8,"../modules/googletag.js":9,"../modules/slot-factory.js":15}],6:[function(e,n,o){function t(e){var n=[],o=[];e.forEach(function(e){e.enabled&&(e.active?n.push(e.gpt):(e.activate(),o.push(e),u.initialLoadRestored&&n.push(e.gpt)))}),a(),o.forEach(function(e){l.display(e.id)}),n.length&&l.pubads().refresh(n)}var r=e("../modules/slot-factory.js"),s=e("../modules/group-factory.js"),i=e("../modules/master-group.js"),a=(e("../modules/log.js"),e("../util/enable-services.js")),u=e("./disable.js"),l=e("../modules/googletag.js");n.exports={all:function(){t(i)},group:function(e){t(s.create(e))},slot:function(e){t([r.get(e)])}}},{"../modules/googletag.js":9,"../modules/group-factory.js":10,"../modules/log.js":11,"../modules/master-group.js":13,"../modules/slot-factory.js":15,"../util/enable-services.js":20,"./disable.js":3}],7:[function(e,n,o){var t=e("./modules/log.js"),r=e("./modules/slot-factory.js"),s=e("./modules/group-factory.js"),i=e("./modules/master-event-handler.js"),a=e("./modules/breakpoint-watcher.js"),u=e("./modules/googletag.js");a.on("update",function(e){i.trigger("breakpoint/update",e)}),u.cmd.push(function(){u.pubads().addEventListener("slotRenderEnded",function(e){i.trigger("slotRenderEnded",e)}),u.pubads().addEventListener("impressionViewable",function(e){i.trigger("impressionViewable",e)})}),n.exports={on:i.on,one:i.one,off:i.off,trigger:i.trigger,version:e("../package.json").version,load:e("./actions/load.js"),addBreakpoints:a.add,getBreakpoints:a.getAll,breakpoint:a.current,log:t,slot:r.get,group:s.create,slots:e("./modules/master-group.js"),defineSlot:r.create,enable:e("./actions/enable.js"),disable:e("./actions/disable.js"),show:e("./actions/show.js")}},{"../package.json":2,"./actions/disable.js":3,"./actions/enable.js":4,"./actions/load.js":5,"./actions/show.js":6,"./modules/breakpoint-watcher.js":8,"./modules/googletag.js":9,"./modules/group-factory.js":10,"./modules/log.js":11,"./modules/master-event-handler.js":12,"./modules/master-group.js":13,"./modules/slot-factory.js":15}],8:[function(e,n,o){(function(o){var t,r=e("../types/event-handler.js")(),s=!1,i=!1,a=[];n.exports={on:r.on,one:r.one,off:r.off,trigger:r.trigger,current:function(){var e=1;return a.forEach(function(n){o.innerWidth>=n&&(e=n)}),a.length?e:void 0},add:function(e){(a=a.concat(e||[])).sort(function(e,n){return e-n}),n.exports.run()},getAll:function(){return a},clear:function(){a=[]},run:function(){function e(){var e=n.exports.current();e!==t&&(t=e,r.trigger("update",e))}!s&&a.length&&(s=!0,o.addEventListener("resize",function(){i||(i=!0,o.requestAnimationFrame(function(){e(),i=!1}))})),e()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../types/event-handler.js":16}],9:[function(e,n,o){(function(e){var o=e.googletag=e.googletag||{};o.cmd=o.cmd||[],n.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,n,o){var t=e("../types/group.js"),r={};n.exports={clear:function(){r={}},create:function(e){return r[e]=r[e]||t(e),r[e]}}},{"../types/group.js":17}],11:[function(e,n,o){var t=e("lumberjackjs");n.exports=t()},{lumberjackjs:1}],12:[function(e,n,o){var t=e("../types/event-handler.js");n.exports=t()},{"../types/event-handler.js":16}],13:[function(e,n,o){var t=e("../types/group.js");n.exports=t()},{"../types/group.js":17}],14:[function(e,n,o){var t={},r={},s={};n.exports=function(e){return{set:{event:function(n,o){var t=r[e]=r[e]||{};t[n]=t[n]||[],t[n].push(o)},single:function(n,o){var r=t[e]=t[e]||{};r[n]=r[n]||[],r[n].push(o)},targeting:function(n,o){s[e]=s[e]||{},s[e][n]=o}},get:{events:function(){return r[e]||[]},singles:function(){return t[e]||[]},targeting:function(){return s[e]||{}}}}},n.exports.clear=function(){t={},r={},s={}}},{}],15:[function(e,n,o){var t=e("../types/slot.js"),r=e("../types/mock-slot.js"),s=e("./group-factory.js"),i=e("../modules/master-group.js"),a=e("../util/scrub-conf.js"),u=e("./log.js");n.exports={create:function(e){var n;try{e.preserveId||(e=a(e)),n=t(e),i.add(n),n.group&&s.create(n.group).add(n)}catch(n){u("error",{conf:e,msg:n.message})}finally{return n||null}},get:function(e){return i.has(e)?i.get(e):r(e)}}},{"../modules/master-group.js":13,"../types/mock-slot.js":18,"../types/slot.js":19,"../util/scrub-conf.js":23,"./group-factory.js":10,"./log.js":11}],16:[function(e,n,o){n.exports=function(e){var n,o={},t={},r={};e=e||{};for(n in e.events)o[n]=e.events[n];for(n in e.singles)t[n]=e.singles[n];return{on:function(e,n,t){!t&&e in r&&n(r[e]),o[e]=o[e]||[],o[e].push(n)},one:function(e,n,o){!o&&e in r?n(r[e]):(t[e]=t[e]||[],t[e].push(n))},off:function(e){e?(o[e]=[],t[e]=[]):(o={},t={},r={})},trigger:function(e,n){e in o&&o[e].forEach(function(e){e(n)}),e in t&&(t[e].forEach(function(e){e(n)}),t[e]=[]),r[e]=n}}}},{}],17:[function(e,n,o){n.exports=function(e){var n=[],o={};return{name:e,length:function(){return n.length},add:function(e){n.push(e),o[e.name]=e},get:function(e){return o[e]||null},getAll:function(){return n},has:function(e){return e in o},clear:function(){n=[],o={}},forEach:function(e){e=e||function(){},n.forEach(e)}}}},{}],18:[function(e,n,o){var t=e("../modules/slot-cache.js"),r=function(){};n.exports=function(e){var n=t(e);return{gpt:{setTargeting:n.set.targeting},mock:!0,name:e,off:r,on:n.set.event,one:n.set.single,trigger:r}}},{"../modules/slot-cache.js":14}],19:[function(e,n,o){e("../modules/log.js");var t=e("../modules/slot-cache.js"),r=e("./event-handler.js"),s=e("../modules/googletag.js"),i=e("../util/list-concat-left.js"),a=e("../util/map-merge-left.js");n.exports=function(e){var n,o,u=t(e.name),l=r({events:i(e.on,u.get.events()),singles:i(e.one,u.get.singles())}),c=a(e.targeting,u.get.targeting());n=e.outofpage?s.defineOutOfPageSlot(e.adunit,e.id):s.defineSlot(e.adunit,e.sizes,e.id);for(o in c)n.setTargeting(o,c[o]);return e.mapping&&n.defineSizeMapping(e.mapping),n.name=e.name,{name:e.name,id:e.id,sizes:e.sizes,adunit:e.adunit,group:e.group||null,companion:e.companion||!1,outofpage:e.outofpage||!1,enabled:!1!==e.enabled,on:l.on,one:l.one,off:l.off,trigger:l.trigger,active:!1,gpt:n,activate:function(){if(!this.active){var e=s.pubads();e.addEventListener("slotRenderEnded",function(e){e.slot===n&&l.trigger("slotRenderEnded",e)}),e.addEventListener("impressionViewable",function(e){e.slot===n&&l.trigger("impressionViewable",e)}),n.addService(e),this.companion&&n.addService(s.companionAds()),this.active=!0}}}}},{"../modules/googletag.js":9,"../modules/log.js":11,"../modules/slot-cache.js":14,"../util/list-concat-left.js":21,"../util/map-merge-left.js":22,"./event-handler.js":16}],20:[function(e,n,o){var t=e("../modules/googletag.js");n.exports=function(){t.pubadsReady||t.enableServices()}},{"../modules/googletag.js":9}],21:[function(e,n,o){n.exports=function(e,n){var o;e=e||{},n=n||{};for(o in e)e[o]=[].concat(e[o]);for(o in n)e[o]=[].concat(e[o]||[],n[o]);return e}},{}],22:[function(e,n,o){n.exports=function(e,n){var o;e=e||{},n=n||{};for(o in n)e[o]=n[o];return e}},{}],23:[function(e,n,o){(function(o){e("../modules/master-group.js");var t={};n.exports=function(e){var n=o.document.getElementById(e.id),r=0;if(n){do{r+=1,e.id=n.id+"-h"+r}while(e.id in t);return n.id=e.id,t[e.id]=!0,e}throw Error("Ad slot "+e.name+" container #"+e.id+" was not found!")},n.exports.clear=function(){t={}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../modules/master-group.js":13}]},{},[7])(7)});